<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CSR µEnergy&reg; Firmware: Firmware Library Fault Codes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Firmware Library Fault Codes<br/>
<small>
[<a class="el" href="group__PNC.html">Panic</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
</table>
<p>The firmware library has an internal fault-reporting system which can detect some exceptional error conditions. In most cases customers should never see these fault codes recorded, other than FAULT_APPLICATION_PANIC which will be recorded if the application calls the <a class="el" href="group__PNC.html#ga3e6aa478468505f0fb28f802680a75ea" title="Raise a system panic, normally resetting the chip.">Panic()</a> function.</p>
<p><b>FAULT_NONE</b> (0x00)<br/>
 Marks unused entries in the fault log. Also occasionally useful in test circumstances to indicate success. </p>
<p><b>FAULT_MYSTERY</b> (0x01)<br/>
 Indicates that some unspecified error has occurred. Except in test circumstances a more specific fault code should always be preferred. </p>
<p><b>FAULT_BAD_LC_STATE</b> (0x02)<br/>
 State machine controlling a BTLE link is in an invalid state. </p>
<p><b>FAULT_BUFFER_CORRUPTED</b> (0x03)<br/>
 The internal state of one of the firmware's circular buffers has been corrupted. Note that at present the circular buffer subsystem is not in use, so this fault should not appear. </p>
<p><b>FAULT_USER_CSKEY_OUT_OF_RANGE</b> (0x04)<br/>
 The CSR1000 device provides a set of eight 16-bit values that can be set when the device is programmed. Applications can read these values using the function <a class="el" href="group__CS.html#ga0b2e2abde5ef37296b3d78d95f16c06e" title="Read a key from the user key set.">CSReadUserKey()</a>, supplying an index between 0 and 7 inclusive.</p>
<p>This fault indicates that an application supplied an index of 8 or more to <a class="el" href="group__CS.html#ga0b2e2abde5ef37296b3d78d95f16c06e" title="Read a key from the user key set.">CSReadUserKey()</a>. </p>
<p><b>FAULT_INVALID_LC_INDEX</b> (0x05)<br/>
 A CSR1000 device has a fixed number of controllers managing BTLE links. This fault indicates that an attempt was made to access a link controller that does not exist. </p>
<p><b>FAULT_H4_RX_BAD_PDU</b> (0x06)<br/>
 An error was detected while receiving data from a host device. </p>
<p><b>FAULT_BAD_FAULT</b> (0x07)<br/>
 A fault was raised, but the fault code supplied was not in the valid range. This fault code is used in place of the invalid one. </p>
<p><b>FAULT_ADC_TENBIT_TIMEOUT</b> (0x08)<br/>
 CSR1000 devices have built-in Analogue to Digital Converters for a number of purposes. This fault indicates that an ADC has become "stuck" in some manner. </p>
<p><b>FAULT_WD_TIMER_RESOURCE</b> (0x09)<br/>
 CSR1000 devices maintain a background process that performs various vital pieces of system maintenance. This fault indicates that the timer controlling this process could not be acquired because the firmware ran out of resources. It can occur if applications use too many timers for their own control. </p>
<p><b>FAULT_HAL_CDAC_TABLE_BUILD</b> (0x0a)<br/>
 This fault indicates that for some reason the radio could not be set up within expected tolerances. </p>
<p><b>FAULT_HCI_BUFFER_FULL</b> (0x0b)<br/>
 Failed to send a message over the HCI to the host application because of a resource shortage. Note that this error is not reported by default, to avoid entering a possible infinite loop. </p>
<p><b>FAULT_H4_UNKNOWN_EVENT</b> (0x0c)<br/>
 This fault indicates that the firmware was asked to send an event to the host which was not recognised as a valid BTLE event. </p>
<p><b>FAULT_UNEXP_MSG_RCVD_FROM_ATT</b> (0x0d)<br/>
 An unexpected message was received from the ATT module while carrying out a GATT procedure. </p>
<p><b>FAULT_SA_HNDL_ARRAY_VIOLATION</b> (0x0e)<br/>
 The internal firmware state driving GATT procedures was found to be in an invalid state. </p>
<p><b>FAULT_GATT_CON_DB_FULL_MASTER_ROLE</b> (0x0f)<br/>
 This fault is raised if a device successfully creates a connection in Master mode but runs out of resources to record it internally. </p>
<p><b>FAULT_GATT_CON_DB_FULL_SLAVE_ROLE</b> (0x10)<br/>
 This fault is raised if a device successfully creates a connection in Slave mode but runs out of resources to record it internally. </p>
<p><b>FAULT_APPLICATION_PANIC</b> (0x11)<br/>
 This fault is raised when the application calls the <a class="el" href="group__PNC.html#ga3e6aa478468505f0fb28f802680a75ea" title="Raise a system panic, normally resetting the chip.">Panic()</a> function. It is not reported by default, to avoid confusing the application further, but does panic the device. </p>
<p><b>FAULT_UPDATE_EXCEEDED_RUNTIME</b> (0x12)<br/>
 Background firmware tasks must run to tight timescales to avoid disrupting radio traffic and breaking the specification. This fault is raised when a task exceeded its allotted time, and will consequently have interfered with existing connections in an unpredictable manner. </p>
<p><b>FAULT_INTERRUPT_UNBLOCK</b> (0x13)<br/>
 The firmware's internal interrupt management state has become inconsistent. Attempting to report this fault is probably futile, so by default it simply panics. </p>
<p><b>FAULT_L2CAP_HANDLER_NOT_REGISTERED</b> (0x14)<br/>
 The L2CAP code relies on a handler function being registered with it for each of the L2CAP services being used. This fault indicates that a call has been made to a particular service for which no handler has been registered. This may suggest that the L2CAP initialiser function, l2cap_init, has not been called. </p>
<p><b>FAULT_HIBERNATE_TIME_TOO_SHORT</b> (0x15)<br/>
 When the application requests the CSR1000 device to move to the Hibernate state it has to provide the minimum time spent hibernating. This time should be at least 2^20 microseconds (1.048576s). If the supplied time is too short this fault will be raised. </p>
<p><b>FAULT_LS_INVALID_CONNECTION</b> (0x16)<br/>
 Upper layers need to allocate resources to BLE connections as they are established. These resources should always be available; this fault indicates that a major firmware error has caused them to be unavailable. </p>
<p><b>FAULT_SM_UNEXPECTED_CID</b> (0x17)<br/>
 The Security Manager has been asked to handle security through a Channel ID that is not the fixed CID reserved for it. </p>
<p><b>FAULT_ATT_UNEXP_MSG_RCVD_FROM_L2CAP</b> (0x18)<br/>
 This fault indicates that an unexpected message is received by ATT module from L2CAP. </p>
<p><b>FAULT_SLOW_CLOCK_FREQ_TRIM</b> (0x19)<br/>
 The firmware was unable to complete the trim procedure for the 32kHz slow clock frequency, when trimmed against the 16MHz clock. </p>
<p><b>FAULT_INVALID_UART_BUFFER_SIZE</b> (0x1a)<br/>
 The application requested an invalid buffer size for the UART RX or UART TX buffer. Supported buffer sizes are defined by the 'uart_buf_size_bytes' enumeration in <a class="el" href="uart_8h.html" title="Functions to interface with the chip&#39;s UART.">uart.h</a> </p>
<p><b>FAULT_FW_TIMER_RESOURCES_EXHAUSTED</b> (0x1b)<br/>
 The firmware library tried to allocate an internal timer but did not have any free timer resources. </p>
<p><b>FAULT_INVALID_UART_CONSUMPTION</b> (0x1c)<br/>
 The application claims to have consumed more data from the UART RX buffer than was available, causing a receive buffer underflow. </p>
<p><b>FAULT_INCORRECT_ROM_VERSION</b> (0x1d)<br/>
 The ROM version is not compatible with the SDK used to build the application.  </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jun 22 2016 11:39:14 for CSR µEnergy&reg; Firmware by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
