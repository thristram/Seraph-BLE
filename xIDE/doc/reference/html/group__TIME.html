<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CSR ÂµEnergy&reg; Firmware: Time</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Time<br/>
<small>
[<a class="el" href="group__SYS.html">System</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6f1e731907521317e8a272d5ae57364e"></a><!-- doxytag: member="TIME::MILLISECOND" ref="ga6f1e731907521317e8a272d5ae57364e" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga6f1e731907521317e8a272d5ae57364e">MILLISECOND</a>&#160;&#160;&#160;((<a class="el" href="group__TIME.html#gafc21bac5ad596b618b484908da356c0c">TIME</a>)(1000))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time constant expressing one millisecond in system time units. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga94212be2394d2d37d9dfd33d07d82dba"></a><!-- doxytag: member="TIME::SECOND" ref="ga94212be2394d2d37d9dfd33d07d82dba" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga94212be2394d2d37d9dfd33d07d82dba">SECOND</a>&#160;&#160;&#160;((<a class="el" href="group__TIME.html#gafc21bac5ad596b618b484908da356c0c">TIME</a>)(1000 * MILLISECOND))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time constant expressing one second in system time units. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac1454fa04f41c693f39425697a137d82"></a><!-- doxytag: member="TIME::MINUTE" ref="gac1454fa04f41c693f39425697a137d82" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gac1454fa04f41c693f39425697a137d82">MINUTE</a>&#160;&#160;&#160;((<a class="el" href="group__TIME.html#gafc21bac5ad596b618b484908da356c0c">TIME</a>)(60 * SECOND))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time constant expressing one minute in system time units. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaa785848ecb02a8cbd8b5aaa5e40d6f4"></a><!-- doxytag: member="TIME::DELAY_ONE_CYCLE" ref="gaaa785848ecb02a8cbd8b5aaa5e40d6f4" args="()" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gaaa785848ecb02a8cbd8b5aaa5e40d6f4">DELAY_ONE_CYCLE</a>()&#160;&#160;&#160;__asm__(&quot;nop&quot;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for one CPU cycle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga0fc833b2533bca9f58277dfab21267ba">TimeAdd</a>(t1, t2)&#160;&#160;&#160;((t1) + (t2))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add two 16- or 32-bit time values.  <a href="#ga0fc833b2533bca9f58277dfab21267ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gaac366327c8cc1d9f6da58d637a6234f4">TimeSub</a>(t1, t2)&#160;&#160;&#160;((int32) (t1) - (int32) (t2))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtract two 16- or 32-bit time values.  <a href="#gaac366327c8cc1d9f6da58d637a6234f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga96a1837b120bcdb5c6fae33ae71db064">TimeCmpEQ</a>(t1, t2)&#160;&#160;&#160;((t1) == (t2))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if two 16- or 32-bit time values are equal.  <a href="#ga96a1837b120bcdb5c6fae33ae71db064"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga6b1f542a0980ad91c40337231d72d547">TimeCmpGT</a>(t1, t2)&#160;&#160;&#160;(TimeSub((t1), (t2)) &gt; 0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if one 16- or 32-bit time value is greater than another.  <a href="#ga6b1f542a0980ad91c40337231d72d547"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga7e1532225c70017e67b4b53009747a95">TimeCmpGE</a>(t1, t2)&#160;&#160;&#160;(TimeSub((t1), (t2)) &gt;= 0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if one 16- or 32-bit time value is greater than or equal to another.  <a href="#ga7e1532225c70017e67b4b53009747a95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga18046ec9bbf694a623994e36320120b8">TimeCmpLT</a>(t1, t2)&#160;&#160;&#160;(TimeSub((t1), (t2)) &lt; 0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if one 16- or 32-bit time value is less than another.  <a href="#ga18046ec9bbf694a623994e36320120b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga8ea09d125c052eda66f774ff04365084">TimeCmpLE</a>(t1, t2)&#160;&#160;&#160;(TimeSub((t1), (t2)) &lt;= 0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if one 16- or 32-bit time value is less than or equal to another.  <a href="#ga8ea09d125c052eda66f774ff04365084"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gaffbe1945e6896bdd01e09abf1810505a">TimeCopy48</a>(td, ts)&#160;&#160;&#160;((td)[0] = (ts)[0], (td)[1] = (ts)[1], (td)[2] = (ts)[2])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy one 48-bit time value to another.  <a href="#gaffbe1945e6896bdd01e09abf1810505a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gab128e2722600f06a7e25d8437e8d8278">TimeWaitWithTimeout32</a>(cond, delay, result)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy-wait for a condition on a timeout.  <a href="#gab128e2722600f06a7e25d8437e8d8278"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga11fc076d4035c3224e0a05d7ccf85248">TimeWaitWithTimeout16</a>(cond, delay, result)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy-wait for a condition with a timeout.  <a href="#ga11fc076d4035c3224e0a05d7ccf85248"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga1dbc71c0baa913b8dc232906af37ce41">TimeWaitWithAbsoluteTimeout32</a>(cond, endtime, result)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy-wait for a condition on a timeout.  <a href="#ga1dbc71c0baa913b8dc232906af37ce41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga9923b0ccbf6148a46ee9088465c3d087">TimeWaitWithAbsoluteTimeout16</a>(cond, endtime, result)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy-wait for a condition with a timeout. Busy wait for a condition to become true, with a timeout. This is a common pattern which people tend to get wrong: in a naive implementation, if we spend time processing an interrupt between checking the condition and checking the timeout, we can falsely decide that the condition is not met in time. This implementation checks the condition again after exiting the timing loop (so works on the assumption that the condition is stable once it has become TRUE).  <a href="#ga9923b0ccbf6148a46ee9088465c3d087"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafc21bac5ad596b618b484908da356c0c"></a><!-- doxytag: member="TIME::TIME" ref="gafc21bac5ad596b618b484908da356c0c" args="" -->
typedef uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gafc21bac5ad596b618b484908da356c0c">TIME</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">System time in microseconds, expressed as a 32-bit number. Although this corresponds to 2^32 microseconds (~71.5 minutes) it should be noted that this is not the maximum timer expiry value that can be used. The maximum timer expiry value is (2^31)-1 microseconds (approx. 35 minutes 47 seconds), this restriction enables correct handling of time counter 'roll overs'. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga18ca68e4f93d6326ff1580383acae688"></a><!-- doxytag: member="TIME::time48" ref="ga18ca68e4f93d6326ff1580383acae688" args="[3]" -->
typedef uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> [3]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">System time in microseconds, expressed as a 48-bit number (maximum duration ~8.9 years unsigned). <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga149fa6eecd480e3570aa1f8bd213d7a4">TimeGet32</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current system time, 32 bits worth.  <a href="#ga149fa6eecd480e3570aa1f8bd213d7a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga45f77dc04754e68e7b3f4111763fd762">TimeGet16</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current system time, 16 bits worth.  <a href="#ga45f77dc04754e68e7b3f4111763fd762"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga61d6dfaf25a246ef9f22790c71acb5fe">TimeGet48</a> (uint16 *time_msw)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current full 48-bit system time.  <a href="#ga61d6dfaf25a246ef9f22790c71acb5fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga9e13db2a9aa2e5f1b96d624f90c92666">TimeGet48WithOffset</a> (uint16 *<a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>, uint16 offset)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current 48-bit time plus a 16-bit offset.  <a href="#ga9e13db2a9aa2e5f1b96d624f90c92666"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#gae4c78dd72f3efd7d8f247310cb4c0d32">TimeIncrement48</a> (<a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t, uint16 increment)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a 16-bit offset to a 48-bit time in-place.  <a href="#gae4c78dd72f3efd7d8f247310cb4c0d32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga9ca9bb8c313e336c02e94710b17e2f4f">TimeSub48</a> (<a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t_result, <a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t1, <a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtract two 48-bit time values.  <a href="#ga9ca9bb8c313e336c02e94710b17e2f4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga7271a9ac43547765e05437e2d53588d2">TimeCmp48LT</a> (<a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t1, <a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a> t2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two 48-bit time values.  <a href="#ga7271a9ac43547765e05437e2d53588d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIME.html#ga073d7cabc1d0b032cd97bd2fc26eda8f">TimeDelayUSec</a> (uint16 delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for a given number of microseconds.  <a href="#ga073d7cabc1d0b032cd97bd2fc26eda8f"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga0fc833b2533bca9f58277dfab21267ba"></a><!-- doxytag: member="time.h::TimeAdd" ref="ga0fc833b2533bca9f58277dfab21267ba" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeAdd</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((t1) + (t2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add two 16- or 32-bit time values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>"t1 + t2".</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Adding the numbers can overflow the range of a TIME, so the user must be cautious. </dd></dl>

</div>
</div>
<a class="anchor" id="ga96a1837b120bcdb5c6fae33ae71db064"></a><!-- doxytag: member="time.h::TimeCmpEQ" ref="ga96a1837b120bcdb5c6fae33ae71db064" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCmpEQ</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((t1) == (t2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if two 16- or 32-bit time values are equal. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if "t1" equals "t2", else FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7e1532225c70017e67b4b53009747a95"></a><!-- doxytag: member="time.h::TimeCmpGE" ref="ga7e1532225c70017e67b4b53009747a95" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCmpGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(TimeSub((t1), (t2)) &gt;= 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if one 16- or 32-bit time value is greater than or equal to another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if "t1" is greater than or equal to "t2", else FALSE.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>see <a class="el" href="group__TIME.html#ga6b1f542a0980ad91c40337231d72d547" title="Determine if one 16- or 32-bit time value is greater than another.">TimeCmpGT()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6b1f542a0980ad91c40337231d72d547"></a><!-- doxytag: member="time.h::TimeCmpGT" ref="ga6b1f542a0980ad91c40337231d72d547" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCmpGT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(TimeSub((t1), (t2)) &gt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if one 16- or 32-bit time value is greater than another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if "t1" is greater than "t2", else FALSE.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Because time values wrap, "t1" and "t2" must differ by less than <img class="formulaInl" alt="$ 2^{31} $" src="form_0.png"/> microseconds, as the comparison uses signed arithmetic. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8ea09d125c052eda66f774ff04365084"></a><!-- doxytag: member="time.h::TimeCmpLE" ref="ga8ea09d125c052eda66f774ff04365084" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCmpLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(TimeSub((t1), (t2)) &lt;= 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if one 16- or 32-bit time value is less than or equal to another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if "t1" is less than or equal to "t2", else FALSE.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>see <a class="el" href="group__TIME.html#ga6b1f542a0980ad91c40337231d72d547" title="Determine if one 16- or 32-bit time value is greater than another.">TimeCmpGT()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga18046ec9bbf694a623994e36320120b8"></a><!-- doxytag: member="time.h::TimeCmpLT" ref="ga18046ec9bbf694a623994e36320120b8" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCmpLT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(TimeSub((t1), (t2)) &lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if one 16- or 32-bit time value is less than another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if "t1" is less than "t2", else FALSE.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>see <a class="el" href="group__TIME.html#ga6b1f542a0980ad91c40337231d72d547" title="Determine if one 16- or 32-bit time value is greater than another.">TimeCmpGT()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gaffbe1945e6896bdd01e09abf1810505a"></a><!-- doxytag: member="time.h::TimeCopy48" ref="gaffbe1945e6896bdd01e09abf1810505a" args="(td, ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeCopy48</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">td, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ts&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((td)[0] = (ts)[0], (td)[1] = (ts)[1], (td)[2] = (ts)[2])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy one 48-bit time value to another. </p>
<p>Copies the time in ts to td.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">td</td><td>A 3 word array containing the destination variable. </td></tr>
    <tr><td class="paramname">ts</td><td>A 3 word array containing the source variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing </dd></dl>

</div>
</div>
<a class="anchor" id="gaac366327c8cc1d9f6da58d637a6234f4"></a><!-- doxytag: member="time.h::TimeSub" ref="gaac366327c8cc1d9f6da58d637a6234f4" args="(t1, t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeSub</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((int32) (t1) - (int32) (t2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subtract two 16- or 32-bit time values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>"t1 - t2".</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Subtracting the numbers can provoke an underflow. This returns a signed number for correct use in comparisons. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9923b0ccbf6148a46ee9088465c3d087"></a><!-- doxytag: member="time.h::TimeWaitWithAbsoluteTimeout16" ref="ga9923b0ccbf6148a46ee9088465c3d087" args="(cond, endtime, result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeWaitWithAbsoluteTimeout16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">endtime, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">result&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                        \
        <span class="keywordflow">while</span> (!(cond) &amp;&amp; ((int16)(<a class="code" href="group__TIME.html#ga45f77dc04754e68e7b3f4111763fd762" title="Read the current system time, 16 bits worth.">TimeGet16</a>() - endtime) &lt; 0)) \
            ;                                                   \
        result = (cond);                                        \
    } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Busy-wait for a condition with a timeout. Busy wait for a condition to become true, with a timeout. This is a common pattern which people tend to get wrong: in a naive implementation, if we spend time processing an interrupt between checking the condition and checking the timeout, we can falsely decide that the condition is not met in time. This implementation checks the condition again after exiting the timing loop (so works on the assumption that the condition is stable once it has become TRUE). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cond</td><td>The expression you're waiting for. </td></tr>
    <tr><td class="paramname">endtime</td><td>The time at which to timeout. </td></tr>
    <tr><td class="paramname">result</td><td>Set to TRUE if the condition was met in time, FALSE otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The maximum time you can wait for is strictly less than 32767 microseconds. This is used by I2C and the max delay is 1ms. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1dbc71c0baa913b8dc232906af37ce41"></a><!-- doxytag: member="time.h::TimeWaitWithAbsoluteTimeout32" ref="ga1dbc71c0baa913b8dc232906af37ce41" args="(cond, endtime, result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeWaitWithAbsoluteTimeout32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">endtime, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">result&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                        \
        <span class="keywordflow">while</span> (!(cond) &amp;&amp; <a class="code" href="group__TIME.html#ga18046ec9bbf694a623994e36320120b8" title="Determine if one 16- or 32-bit time value is less than another.">TimeCmpLT</a>(<a class="code" href="group__TIME.html#ga149fa6eecd480e3570aa1f8bd213d7a4" title="Read the current system time, 32 bits worth.">TimeGet32</a>(), endtime))      \
            ;                                                   \
        result = (cond);                                        \
    } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Busy-wait for a condition on a timeout. </p>
<p>Busy wait for a condition to become true, with a timeout. This is a common pattern which people tend to get wrong: in a naive implementation, if we spend time processing an interrupt between checking the condition and checking the timeout, we can falsely decide that the condition is not met in time. This implementation checks the condition again after exiting the timing loop (so works on the assumption that the condition is stable once it has become TRUE).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cond</td><td>The expression you're waiting for. </td></tr>
    <tr><td class="paramname">endtime</td><td>The time at which to timeout. </td></tr>
    <tr><td class="paramname">result</td><td>Set to TRUE if the condition was met in time, FALSE otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing </dd></dl>

</div>
</div>
<a class="anchor" id="ga11fc076d4035c3224e0a05d7ccf85248"></a><!-- doxytag: member="time.h::TimeWaitWithTimeout16" ref="ga11fc076d4035c3224e0a05d7ccf85248" args="(cond, delay, result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeWaitWithTimeout16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">result&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                        \
        uint16 wwt_start_time = <a class="code" href="group__TIME.html#ga45f77dc04754e68e7b3f4111763fd762" title="Read the current system time, 16 bits worth.">TimeGet16</a>();                    \
        <span class="keywordflow">while</span> (!(cond) &amp;&amp; ((<a class="code" href="group__TIME.html#ga45f77dc04754e68e7b3f4111763fd762" title="Read the current system time, 16 bits worth.">TimeGet16</a>() - wwt_start_time)       \
                &lt;= (uint16)(delay)))                            \
            ;                                                   \
        result = (cond);                                        \
    } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Busy-wait for a condition with a timeout. </p>
<p>Busy wait for a condition to become true, with a timeout. This is a common pattern which people tend to get wrong: in a naive implementation, if we spend time processing an interrupt between checking the condition and checking the timeout, we can falsely decide that the condition is not met in time. This implementation checks the condition again after exiting the timing loop (so works on the assumption that the condition is stable once it has become TRUE).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cond</td><td>The expression you're waiting for. </td></tr>
    <tr><td class="paramname">delay</td><td>The timeout in microseconds. </td></tr>
    <tr><td class="paramname">result</td><td>Set to TRUE if the condition was met in time, FALSE otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The maximum time you can wait for is strictly less than 65535 microseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="gab128e2722600f06a7e25d8437e8d8278"></a><!-- doxytag: member="time.h::TimeWaitWithTimeout32" ref="gab128e2722600f06a7e25d8437e8d8278" args="(cond, delay, result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimeWaitWithTimeout32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">result&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                        \
        <a class="code" href="group__TIME.html#gafc21bac5ad596b618b484908da356c0c" title="System time in microseconds, expressed as a 32-bit number. Although this corresponds to 2^32 microsec...">TIME</a> wwt_end_time = <a class="code" href="group__TIME.html#ga0fc833b2533bca9f58277dfab21267ba" title="Add two 16- or 32-bit time values.">TimeAdd</a>(<a class="code" href="group__TIME.html#ga149fa6eecd480e3570aa1f8bd213d7a4" title="Read the current system time, 32 bits worth.">TimeGet32</a>(), delay);        \
        <span class="keywordflow">while</span> (!(cond) &amp;&amp; <a class="code" href="group__TIME.html#ga18046ec9bbf694a623994e36320120b8" title="Determine if one 16- or 32-bit time value is less than another.">TimeCmpLT</a>(<a class="code" href="group__TIME.html#ga149fa6eecd480e3570aa1f8bd213d7a4" title="Read the current system time, 32 bits worth.">TimeGet32</a>(), wwt_end_time)) \
            ;                                                   \
        result = (cond);                                        \
    } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Busy-wait for a condition on a timeout. </p>
<p>Busy wait for a condition to become true, with a timeout. This is a common pattern which people tend to get wrong: in a naive implementation, if we spend time processing an interrupt between checking the condition and checking the timeout, we can falsely decide that the condition is not met in time. This implementation checks the condition again after exiting the timing loop (so works on the assumption that the condition is stable once it has become TRUE).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cond</td><td>The expression you're waiting for. </td></tr>
    <tr><td class="paramname">delay</td><td>The timeout in microseconds. </td></tr>
    <tr><td class="paramname">result</td><td>Set to TRUE if the condition was met in time, FALSE otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga7271a9ac43547765e05437e2d53588d2"></a><!-- doxytag: member="time.h::TimeCmp48LT" ref="ga7271a9ac43547765e05437e2d53588d2" args="(time48 t1, time48 t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TimeCmp48LT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare two 48-bit time values. </p>
<p>Check if the first time is behind the second time, using the usual "half the wrap period" definitions of 'behind' and 'ahead'.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t1</td><td>A 3 word array containing the 1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>A 3 word array containing the 2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the first time is behind the second, otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="ga073d7cabc1d0b032cd97bd2fc26eda8f"></a><!-- doxytag: member="time.h::TimeDelayUSec" ref="ga073d7cabc1d0b032cd97bd2fc26eda8f" args="(uint16 delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDelayUSec </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"> <em>delay</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delay for a given number of microseconds. </p>
<p>Delay for at least delay microseconds, and less than delay + 1 microseconds (this arises because the code allows for the timer ticking just before it first measures it, so errs on the side of a longer delay rather than an unexpectedly short one).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">delay</td><td>The delay value in microseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>"delay" should be strictly less than 65535 microseconds. For safety, especially where the possibility exists of running at a slower clock speed, a few microseconds of margin are advised. </dd></dl>

</div>
</div>
<a class="anchor" id="ga45f77dc04754e68e7b3f4111763fd762"></a><!-- doxytag: member="time.h::TimeGet16" ref="ga45f77dc04754e68e7b3f4111763fd762" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 TimeGet16 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the current system time, 16 bits worth. </p>
<p>Returns the current value of the low 16 bits of the system's 48 bit 1MHz clock. The resolution of the returned uint16 is one microsecond, so this value wraps after approximately 65ms.</p>
<p>NOTE: Due to the fast speed of the clock, using just the lowest 16 bits is typically only useful when making quick differential measurements, e.g to check execution time of task that is guaranteed to finish within 65ms.</p>
<p>The function can be called from the machine's background or from interrupt routines.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current system time.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The time manipulation macros are not appropriate here. But make sure you know what you are doing with wraps and int16/uint16 stuff. </dd></dl>

</div>
</div>
<a class="anchor" id="ga149fa6eecd480e3570aa1f8bd213d7a4"></a><!-- doxytag: member="time.h::TimeGet32" ref="ga149fa6eecd480e3570aa1f8bd213d7a4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 TimeGet32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the current system time, 32 bits worth. </p>
<p>Returns the current value of the low 32 bits of the system's 48 bit 1MHz clock. The resolution of the returned uint32 is one microsecond, so this value wraps after approximately 71 minutes.</p>
<p>This clock is the basis of all timed events in the chip's hardware, notably other functions declared in this file.</p>
<p>The function can be called from the machine's background or from interrupt routines.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current system time. </dd></dl>

</div>
</div>
<a class="anchor" id="ga61d6dfaf25a246ef9f22790c71acb5fe"></a><!-- doxytag: member="time.h::TimeGet48" ref="ga61d6dfaf25a246ef9f22790c71acb5fe" args="(uint16 *time_msw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 TimeGet48 </td>
          <td>(</td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"> <em>time_msw</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the current full 48-bit system time. </p>
<p>Returns all 48 bits of the current value of the system's 1MHz clock. The resolution of the returned 32 bit value is one microsecond, with the most significant word returned through the pointer passed as a parameter. The clock therefore wraps after approximately 8.9 years. That should be enough for most purposes.</p>
<p>Except as noted above, this function can be treated as per <a class="el" href="group__TIME.html#ga149fa6eecd480e3570aa1f8bd213d7a4" title="Read the current system time, 32 bits worth.">TimeGet32()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time_msw</td><td>A pointer to store the most significant word of the current system time</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Lower 32 bits to the current system time. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9e13db2a9aa2e5f1b96d624f90c92666"></a><!-- doxytag: member="time.h::TimeGet48WithOffset" ref="ga9e13db2a9aa2e5f1b96d624f90c92666" args="(uint16 *time48, uint16 offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeGet48WithOffset </td>
          <td>(</td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"> <em>time48</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"> <em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the current 48-bit time plus a 16-bit offset. </p>
<p>As per <a class="el" href="group__TIME.html#ga61d6dfaf25a246ef9f22790c71acb5fe" title="Read the current full 48-bit system time.">TimeGet48()</a>, but treats the time as an array of three uint16s rather than a uint16 MSW and uint32 LSW, and adds a uint16 offset to the current time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time48</td><td>A 3 word array to store the return value. </td></tr>
    <tr><td class="paramname">offset</td><td>Value to added to the current system time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Places the offset system time in the three words following the pointer parameter, which is *not* checked for validity. </dd></dl>

</div>
</div>
<a class="anchor" id="gae4c78dd72f3efd7d8f247310cb4c0d32"></a><!-- doxytag: member="time.h::TimeIncrement48" ref="gae4c78dd72f3efd7d8f247310cb4c0d32" args="(time48 t, uint16 increment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeIncrement48 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"> <em>increment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a 16-bit offset to a 48-bit time in-place. </p>
<p>The result is written back into the original parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>A 3 word array containing the source/destination variable. </td></tr>
    <tr><td class="paramname">increment</td><td>The amount "t" is to increased.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing </dd></dl>

</div>
</div>
<a class="anchor" id="ga9ca9bb8c313e336c02e94710b17e2f4f"></a><!-- doxytag: member="time.h::TimeSub48" ref="ga9ca9bb8c313e336c02e94710b17e2f4f" args="(time48 t_result, time48 t1, time48 t2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeSub48 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIME.html#ga18ca68e4f93d6326ff1580383acae688">time48</a>&#160;</td>
          <td class="paramname"> <em>t2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subtract two 48-bit time values. </p>
<p>Sets t_result to t1-t2 (using 48-bit unsigned arithmetic).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">t_result</td><td>A 3 word array containing the result </td></tr>
    <tr><td class="paramname">t1</td><td>A 3 word array containing the 1st time value. </td></tr>
    <tr><td class="paramname">t2</td><td>A 3 word array containing the 2nd time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jun 22 2016 11:39:14 for CSR ÂµEnergy&reg; Firmware by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
